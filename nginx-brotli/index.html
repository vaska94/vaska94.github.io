<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.74.3"><meta name=description content="Linux Blog"><meta name=keywords content="Sysadmin,Linux,Redhat,Centos,Kubernetes"><meta name=author content="Vasil Jamalashvili"><link rel=stylesheet href=https://sysadmin.lol/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" rel=stylesheet type=text/css><link rel=stylesheet href=https://sysadmin.lol/css/cayman.87415a4997c8d6c666624ff26c8812f27f42b4cf5dc18c45fc8dcb0cd7d6d2f5.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><title>Compile Nginx with Brotli and ngx_cache_purge Plugin on Centos 8 | Sysadmin.lol</title></head><body><section class=page-header><h1 class=project-name>Sysadmin.lol</h1><h2 class=project-tagline>Some random post about linux.</h2><nav><a href=/ class=btn>Blog</a>
<a href=/about/ class=btn>About</a>
<a href=/index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>Compile Nginx with Brotli and ngx_cache_purge Plugin on Centos 8</h1><div><strong>Publish date: </strong>2020-07-03</div><p>Just Copy Paste This Command and it will automagically do the trick!</p><p>will post more explaination later.</p><p>p.s : if you use wordpress you can use <a href=https://wordpress.org/plugins/nginx-helper/>nginx-helper</a></p><pre><code>dnf install -y wget gcc make redhat-rpm-config git pcre-devel openssl-devel libxslt-devel gd-devel perl-ExtUtils-Embed nginx
cd /usr/src
wget http://nginx.org/download/nginx-1.19.2.tar.gz
git clone https://github.com/FRiCKLE/ngx_cache_purge.git
git clone --recursive https://github.com/google/ngx_brotli.git
tar xzf nginx-1.19.2.tar.gz
cd nginx-1.19.2
./configure --prefix=/usr/share/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib64/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --http-client-body-temp-path=/var/lib/nginx/tmp/client_body --http-proxy-temp-path=/var/lib/nginx/tmp/proxy --http-fastcgi-temp-path=/var/lib/nginx/tmp/fastcgi --http-uwsgi-temp-path=/var/lib/nginx/tmp/uwsgi --http-scgi-temp-path=/var/lib/nginx/tmp/scgi --pid-path=/run/nginx.pid --lock-path=/run/lock/subsys/nginx --user=nginx --group=nginx --with-file-aio --with-ipv6 --with-http_ssl_module --with-http_v2_module --with-http_realip_module --with-http_addition_module --with-http_xslt_module=dynamic --with-http_image_filter_module=dynamic --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_random_index_module --with-http_secure_link_module --with-http_degradation_module --with-http_slice_module --with-http_stub_status_module --with-http_perl_module=dynamic --with-http_auth_request_module --with-mail=dynamic --with-mail_ssl_module --with-pcre --with-pcre-jit --with-stream=dynamic --with-stream_ssl_module --with-debug --with-cc-opt='-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -Wp,-D_GLIBCXX_ASSERTIONS -fexceptions -fstack-protector-strong -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -specs=/usr/lib/rpm/redhat/redhat-annobin-cc1 -m64 -mtune=generic -fasynchronous-unwind-tables -fstack-clash-protection -fcf-protection' --with-ld-opt='-Wl,-z,relro -Wl,-z,now -specs=/usr/lib/rpm/redhat/redhat-hardened-ld -Wl,-E' --add-module=/usr/src/ngx_cache_purge --add-module=/usr/src/ngx_brotli
make
make install
echo &quot;exclude=nginx&quot; &gt;&gt; /etc/yum.conf
</code></pre><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. Themed by <a href=https://github.com/zwbetz-gh/cayman-hugo-theme>Cayman</a>.</span></footer></section><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-177145198-1','auto');ga('set','anonymizeIp',true);ga('send','pageview');</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>